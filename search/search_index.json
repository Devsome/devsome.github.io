{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"cloning/","title":"Cloning","text":"<p>Downloading that project with git.</p> <pre><code>git clone https://github.com/Devsome/silkroad-laravel.git\n</code></pre> <p>Installing all the packages which are required.</p> <pre><code>cd silkroad-laravel &amp;&amp; composer install\n</code></pre>"},{"location":"config-commands/","title":"Commands","text":""},{"location":"config-commands/#create-and-fill-tables","title":"Create and fill tables","text":"<p>Laravel is doing all the other stuff, just go to the silkroad-laravel folder you cloned that project and run:</p> <pre><code>php artisan storage:link &amp;&amp; php artisan key:generate &amp;&amp; php artisan migrate --seed\n</code></pre> <ul> <li>This is for creating a storage link folder for images.</li> <li>Generating an secret key for the project.</li> <li>Creating all that web tables and filling it with default values.</li> </ul>"},{"location":"config-commands/#cronjob","title":"Cronjob","text":"<p>Setting up your cronjob</p> <pre><code>crontab -e\n</code></pre> <p>Then paste this and put it on the last line.</p> <pre><code>* * * * * php /var/www/artisan schedule:run\n</code></pre>"},{"location":"config-commands/#import-silkroad-accounts","title":"Import Silkroad Accounts","text":"<p>If you want to add your current existing <code>TB_User</code> accounts to the web project, that the user can login and donate or update there password, you can run this command:</p> <pre><code>php artisan import:silkroad-accounts\n</code></pre>"},{"location":"config-donations/","title":"Donations","text":"<p>Currently are two Payment methods enabled.</p> <ol> <li>Paypal</li> <li>Stripe</li> </ol> <p>Hopefully you got the newest files, else you can get it with <code>git pull</code>. Once you updated your files you need to install the new dependencies with <code>composer install</code>. After that you can insert the new Payment method Stripe with that seeder command.</p> <p>Then migrate the new Table with <code>php artisan migrate</code></p> <pre><code>php artisan db:seed --class=\"DonationMethodsSeeder\"\n</code></pre> <p>Paypal &amp; Stripe are going to update itself, you need to activate them in the Backend if you want to use it.</p> <p>If you are facing any Problems try to run <code>composer dump-autoload</code> or for the safety, just run it.</p>"},{"location":"config-donations/#how-to-configure-them","title":"How to configure them?","text":"<p>Check out the <code>.env.example</code></p> <pre><code># Paypal Information\nPAYPAL_MODE=\"sandbox\" # live\nPAYPAL_SANDBOX_API_CLIENT_ID=\"\"\nPAYPAL_SANDBOX_API_SECRET=\"\"\nPAYPAL_LIVE_API_CLIENT_ID=\"\"\nPAYPAL_LIVE_API_SECRET=\"\"\n\n# Stripe Information\nSTRIPE_PUBLIC_KEY=\"pk_test_51HR3q4IUbMZhevnR3hrXn...\"\nSTRIPE_SECRET_KEY=\"sk_test_51HR3q4IUbMZhevnRtuCRp...\"\n# Valid Methods, some methods are available with currency EUR or USD\n# Please split them with a comma\n# alipay, au_becs_debit, bacs_debit, bancontact, card, eps, giropay, ideal, p24, sepa_debit, and sofort\n# https://stripe.com/docs/api/payment_intents/create#create_payment_intent-payment_method_types\n# Some payments are only available with currency EUR\nSTRIPE_METHODS=\"card,ideal\"\n</code></pre> <p>After you put that information into your <code>.env</code> do not forget to clear the config with <code>php artisan config:cache</code>. In the backend you can configure the packages the user can buy and you can see a logging.</p>"},{"location":"config-env/","title":".env File","text":"<p>You need to edit your .env.example file from that project and fill it with your credentials.</p> <pre><code>cp .env.example .env\n</code></pre> <p>or just rename it manually to <code>.env</code></p> <p>Information:</p> <pre><code># Your website url\nAPP_URL=\"https://silkroad-laravel/\"\n\n# Simple description of your page\nAPP_DESCRIPTION=\"Website description\"\n\n# Timezone for the whole webpage / timers\nAPP_TIMEZONE=\"Europe/Berlin\"\n\n# You can fill this out\nDISCORD_WEBHOOK_AUCTION=\"https://discordapp.com/api/webhooks/ID\"\n</code></pre> <p>Paypal Information:</p> <pre><code>PAYPAL_MODE=\"live\"\nPAYPAL_SANDBOX_API_CLIENT_ID=\"\"\nPAYPAL_SANDBOX_API_SECRET=\"\"\nPAYPAL_LIVE_API_CLIENT_ID=\"\"\nPAYPAL_LIVE_API_SECRET=\"\"\n</code></pre> <p>Web project Database:</p> <pre><code>DB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=DB_SILKROAD\nDB_USERNAME=root\nDB_PASSWORD=root\n</code></pre> <p>Silkroad Database stuff:</p> <pre><code>DB_SQL_HOST=YourIp\nDB_SQL_PORT=YourPort\nDB_SQL_DATABASE_ACCOUNT=SRO_VT_ACCOUNT\nDB_SQL_DATABASE_LOG=SRO_VT_LOG\nDB_SQL_DATABASE_SHARD=SRO_VT_SHARD\nDB_SQL_DATABASE_CUSTOM=SRO_VT_CUSTOM\nDB_SQL_USERNAME=YourUsername\nDB_SQL_PASSWORD=YourPassword\n</code></pre> <p>E-Mail stuff:</p> <pre><code>MAIL_DRIVER=smtp\nMAIL_HOST=smtp.mailtrap.io\nMAIL_PORT=2525\nMAIL_USERNAME=null\nMAIL_PASSWORD=null\nMAIL_ENCRYPTION=null\n</code></pre>"},{"location":"config-language/","title":"Language","text":"<p>config/language.example.php</p> <p>You need to copy the <code>language.example.php</code> to <code>language.php</code> or run this command</p> <pre><code>cp config/language.example.php config/language.php\n</code></pre> <pre><code>/*\n * Used for the application language\n */\nreturn [\n    'en' =&gt; [\n        'name' =&gt; 'English',\n        'icon' =&gt; '/image/flags/United_States_of_America.png'\n    ],\n    'es' =&gt; [\n        'name' =&gt; 'Espa\u00f1ol',\n        'icon' =&gt; '/image/flags/Spain.png'\n    ],\n    'hi' =&gt; [\n        'name' =&gt; '\u0939\u093f\u0928\u094d\u0926\u0940',\n        'icon' =&gt; '/image/flags/India.png'\n    ],\n    'pt' =&gt; [\n        'name' =&gt; 'Portugues',\n        'icon' =&gt; '/image/flags/Portugal.png'\n    ],\n    'ar' =&gt; [\n        'name' =&gt; '\u0627\u0644\u0639\u0631\u0628\u064a\u0629',\n        'icon' =&gt; '/image/flags/Saudi_Arabia.png'\n    ]\n];\n</code></pre> <p>If you want to enable, disable or add a new language, just edit the <code>language.php</code> file. Remember, that in the <code>resources/lang/x</code> a folder with all the language key must exist, else the locale_fallback variable from the app.php is used.</p> Language array"},{"location":"config-timers/","title":"Timers","text":"<p>config/timers.php</p> <p>For the icons, check this link out: fontawesome.com</p> <pre><code>return [\n    [\n        'name' =&gt; 'Capture the flag',\n        'hours' =&gt; [\n            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23\n        ],\n        'min' =&gt; 30,\n    ],\n    [\n        'name' =&gt; 'Fortresswar',\n        'days' =&gt; [\n            'Sunday',\n            'Monday',\n        ],\n        'hour' =&gt; 8,\n        'min' =&gt; 14,\n    ],\n    [\n        'name' =&gt; 'Register',\n        'type' =&gt; 'static',\n        'time' =&gt; 'Saturday 12:00 - 23:00',\n        'icon' =&gt; 'fas fa-clock',\n    ],\n    [\n        'name' =&gt; 'Medusa',\n        'hours' =&gt; [\n            1,22,23\n        ],\n        'min' =&gt; 14,\n        'icon' =&gt; 'fas fa-crosshairs',\n    ],\n];\n</code></pre> <p>For example when you add a new timer:</p> <pre><code>[\n    'name' =&gt; 'Documentation',\n    'hours' =&gt; [\n        10, 15, 20\n    ],\n    'min' =&gt; 0,\n    'icon' =&gt; 'fas fa-star'\n]\n</code></pre> Documentation timer"},{"location":"config-unique/","title":"Unique","text":"<p>To make it work follow these steps.</p> <ol> <li>Get the newest file changes by <code>git pull</code></li> <li>In the <code>config</code> folder you will find a <code>unique.example.php</code> file. Rename it to <code>unique.php</code>.</li> <li>Run <code>php artisan migrate</code> to get the newest Unique Table + Procedure.<ol> <li>Table <code>SRO_WEB_LARAVEL.uniquekilllogs</code> should be created.</li> <li>Procedure <code>SRO_WEB_LARAVEL._ExecUniquekilllogs</code> should be created.</li> </ol> </li> <li>Run <code>composer dump-autoload</code></li> </ol> <p>You are probably wondering how I enter the Unique Kills now. For this you have to execute this Exec command. It does not matter if you send the MobName or real name.</p> <p>Here are two examples:</p> <pre><code>EXEC _ExecUniquekilllogs @CharName16 = 'Devsome', @UniqueName = 'MOB_KK_ISYUTARU';\n</code></pre> <pre><code>EXEC _ExecUniquekilllogs @CharName16 = 'Devsome', @UniqueName = 'Captain Ivy';\n</code></pre> <p>As long as the MobName or real name is stored in the Config file, they will be found.</p> <p>Just to remind you, you need any second tool to execute the procedure.</p>"},{"location":"config-vouchers/","title":"Vouchers","text":"<p>config/vouchers.php</p> <pre><code>/*\n* List of characters that will be used for voucher code generation.\n*/\n'characters' =&gt; '23456789ABCDEFGHJKLMNPQRSTUVWXYZ',\n</code></pre> <pre><code>/*\n* Voucher code prefix.\n*\n* Example: foo\n* Generated Code: foo-AGXF-1NH8\n*/\n'prefix' =&gt; null,\n</code></pre> <pre><code>/*\n * Voucher code suffix.\n *\n * Example: foo\n * Generated Code: AGXF-1NH8-foo\n */\n'suffix' =&gt; null,\n</code></pre> <pre><code>/*\n * Code mask.\n * All asterisks will be removed by random characters.\n */\n'mask' =&gt; '****-****-****-**',\n</code></pre> <pre><code>/*\n * Separator to be used between prefix, code and suffix.\n */\n'separator' =&gt; '-',\n</code></pre>"},{"location":"config/","title":"Overview","text":"<p>Most customizations can be done in the backend, some have to be done directly in the files. These I show you now.</p> <ul> <li>Language</li> <li>Timers</li> <li>Vouchers</li> <li>Unique</li> <li>Donations</li> </ul>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#frequently-asked-questions","title":"Frequently Asked Questions","text":"<ol> <li>Server Error - Debug on</li> <li>How can I see the backend?</li> <li>Missing Tables</li> <li>Tables are empty</li> <li>Images are not shown</li> <li>I don't need multi language</li> <li>Discord widget not working</li> <li>There is no tracking information for current branch.</li> </ol>"},{"location":"faq/#debug-on","title":"Debug on","text":"<p>You want to see the error message instead of \"Server Error xxx\"? Then edit the <code>.env</code> and put the <code>APP_DEBUG=true</code> <code>DEBUGBAR_ENABLED=true</code> After that you will see a error message instead of server error. When you done editing the <code>.env</code> file run <code>php artisan config:cache</code></p>"},{"location":"faq/#how-can-i-see-the-backend","title":"How can I see the backend?","text":"<p>Probably there is no account registered yet that has the rights.  Table <code>DB_SILKROAD.model_has_roles</code>  Replace <code>X</code> with your id. You can find your id in that table <code>DB_SILKROAD.users</code> the <code>id</code>!</p> role_id model_type model_id 3 <code>App\\User</code> X <p>Hint: You can use the command <code>php artisan import:silkroad-accounts</code> to get all your Silkroad Accounts into that web database. The Accounts need a Name + E-Mail set.</p>"},{"location":"faq/#missing-tables","title":"Missing Tables","text":"<p>You forgot to run that command <code>php artisan migrate</code></p>"},{"location":"faq/#tables-are-empty","title":"Tables are empty","text":"<p>You forgot to run that command <code>php artisan db:seed</code></p>"},{"location":"faq/#images-are-not-shown","title":"Images are not shown","text":"<p>You forgot to run that command <code>php artisan storage:link</code></p>"},{"location":"faq/#multi-language","title":"Multi language","text":"<p>If you don't need multi language for your page, you can simple delete the other language. Just open the <code>config/app.php</code> and search for <code>locale_enabled</code>, there you can delete the other language. After that you need to run that command <code>php artisan config:cache</code> to recache your whole config and make the changes visible.</p> <p>But if you are saying you need one more language, check the <code>resources/lang</code> folder. For each language you need a separated folder. That folder name is the key in the <code>locale_enabled</code> array.</p>"},{"location":"faq/#discord-widget","title":"Discord widget","text":"<p>Your Discord server needs server-widgets activated. Then it can take some time to make it work.</p>"},{"location":"faq/#git-pull","title":"Git pull","text":"<p>When you are trying to use <code>git pull</code> but there is a error message that there is no tracking information for current branch use this Command.</p> <pre><code>git remote add origin https://github.com/Devsome/silkroad-laravel.git\ngit pull origin master --rebase\n</code></pre>"},{"location":"getting-started/","title":"Requirements","text":"<p>This guide is for Debian/Ubuntu (vServer), if you want to install it on a Windows, use this guide.</p>"},{"location":"getting-started/#you-need-this","title":"You need this","text":"<ul> <li>PHP v7.4 The minimum required for project</li> <li>git</li> <li>Webserver</li> <li>Silkroad Databases</li> <li>Composer</li> </ul>"},{"location":"introduction/","title":"Introduction","text":"<p>Hello! I am a documentary, may not be perfect but was built with love. I will show you how to set up the project, work on it and find your way around.</p> <p>A free and open-source project for the MMORPG Silkroad Online. Feel free to create issues or contribute to that project. If you have any questions, just ask!</p> <p> This is how the start page of the project looks like.</p> Startpage"},{"location":"server/","title":"Server","text":""},{"location":"server/#update-upgrade-your-server","title":"Update &amp; Upgrade your server","text":"<pre><code>sudo apt-get update\n</code></pre> <pre><code>DEBIAN_FRONTEND=noninteractive apt-get -y -o Dpkg::Options::=\"--force-confdef\" -o Dpkg::Options::=\"--force-confold\" upgrade\n</code></pre>"},{"location":"server/#nginx","title":"Nginx","text":"<pre><code>sudo apt-get install -y nginx\n</code></pre>"},{"location":"server/#mysql","title":"MySql","text":"<p>Installing mysql + set your <code>root</code> password. Do not use <code>CHANGETHIS</code>!</p> <pre><code>sudo debconf-set-selections &lt;&lt;&lt; \"mysql-server mysql-server/root_password password CHANGETHIS\"\nsudo debconf-set-selections &lt;&lt;&lt; \"mysql-server mysql-server/root_password_again password CHANGETHIS\"\n</code></pre> <pre><code>sudo apt-get install -y mysql-server\nsudo wget http://repo.mysql.com/mysql-apt-config_0.8.9-1_all.deb\nsudo -E dpkg -i mysql-apt-config_0.8.9-1_all.deb\nsudo apt-get update\nsudo apt-get install -y mysql-server\n</code></pre>"},{"location":"server/#php","title":"PHP","text":"<pre><code>sudo add-apt-repository -y ppa:ondrej/php &amp;&amp; sudo apt-get update\nsudo apt-get install -y php7.4-cli php7.4-fpm php7.4-mysql php7.4-curl php-memcached php7.4-dev php7.4-sqlite3 php7.3-mbstring php7.4-xml freetds-common freetds-bin unixodbc php7.4-sybase\nsudo apt install -y php7.4-bcmath\nsudo apt install -y zip unzip php7.4-zip\nsudo apt-cache search php7.4\nsudo apt install -y php7.4-zip\n</code></pre> <p>For that php.ini</p> <pre><code>sudo sed -i.bak 's/^;cgi.fix_pathinfo.*$/cgi.fix_pathinfo = 1/g' /etc/php/7.4/fpm/php.ini\n</code></pre> <p>Restarting php7.4-fpm</p> <pre><code>sudo service php7.4-fpm restart\n</code></pre>"},{"location":"server/#acl-npm","title":"ACL &amp; NPM","text":"<pre><code>sudo apt-get install acl\nsudo apt install -y npm\n</code></pre>"},{"location":"server/#sendmail","title":"Sendmail","text":"<p>If you don't want to use sendmail, then you dont need to install it. Change the hostname to your own.</p> <pre><code>sudo apt-get install -y sendmail\nsudo hostnamectl set-hostname silkroad-laravel.de\n</code></pre>"},{"location":"server/#database","title":"Database","text":"<p>Change <code>CHANGETHIS</code> to your choosen root password.</p> <pre><code>echo mysql_upgrade -u root -pCHANGETHIS --force\necho \"CREATE DATABASE DB_SILKROAD\" | mysql -uroot -pCHANGETHIS\necho \"FLUSH PRIVILEGES\" | mysql -uroot -pCHANGETHIS\necho \"ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'root';\" | mysql -uroot -pCHANGETHIS\n</code></pre>"},{"location":"server/#host-configration","title":"Host configration","text":"<p>If you have an ssl certificate you can use this config:</p> <ul> <li>Change the <code>ssl_certificate</code> &amp; <code>ssl_certificate_key</code> to your own certificate path.</li> <li>Change the <code>root</code> to your project root path.</li> </ul> <pre><code>cat &lt;&lt; 'EOF' &gt; /etc/nginx/sites-available/default\nserver {\n    listen 80;\n    server_name localhost;\n    return 301 https://$host$request_uri;\n}\n\nserver {\n  listen 443 ssl;\n\n  server_name localhost;\n\n  ssl_certificate     /var/www/ssl-script/silkroad-laravel.crt;\n  ssl_certificate_key /var/www/ssl-script/device.key;\n\n    # Useful logs for debug.\n    access_log /var/log/nginx/localhost_access.log;\n    error_log /var/log/nginx/localhost_error.log;\n    rewrite_log on;\n\n    # The location of our projects public directory.\n    root  /var/www/public;\n\n    # Point index to the Laravel front controller.\n    index index.php index.html;\n\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    # Remove trailing slash to please routing system.\n    if (!-d $request_filename) {\n        rewrite ^/(.+)/$ /$1 permanent;\n    }\n\n    # PHP FPM configuration.\n    location ~* \\.php$ {\n        fastcgi_pass unix:/run/php/php7.4-fpm.sock;\n        fastcgi_index index.php;\n        fastcgi_split_path_info ^(.+\\.php)(.*)$;\n        include /etc/nginx/fastcgi_params;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    }\n\n    # We don't need .ht files with nginx.\n    location ~ /\\.ht {\n        deny all;\n    }\n\n    # Set header expirations on per-project basis\n    location ~* \\.(?:ico|css|js|jpe?g|JPG|png|svg|woff)$ {\n        expires 365d;\n    }\n}\nEOF\n</code></pre>"},{"location":"server/#finish","title":"Finish","text":"<pre><code>sudo service nginx restart\nsudo service php7.4-fpm restart\nsudo service mysql restart\n</code></pre> <p>Finished with the server Configuration.</p>"},{"location":"sro-database/","title":"SRO Database","text":""},{"location":"sro-database/#procedure","title":"Procedure","text":"<p>For the ranking and other stuff you need to edit your current Silkroad procedures. After all the <code>set</code> variables you need to paste this stuff <code>SRO_VT_LOG</code>.<code>_AddLogChar</code></p> <p>Modify the procedure on <code>SRO_VT_LOG</code>.<code>_AddLogChar</code> adding the following like so:</p> <pre><code>CREATE   procedure [dbo].[_AddLogChar]\n    @CharID     int,\n    @EventID        tinyint,\n    @Data1      int,\n    @Data2      int,\n    @strPos     varchar(64),\n    @Desc       varchar(128)\nas\nEXEC SRO_WEB_LARAVEL.dbo._WebProcess @CharID = @CharID,@EventID = @EventID,@DESC = @Desc,@strPos = @strPos\n</code></pre> <p>Important is to add this <code>EXEC SRO_WEB_LARAVEL.dbo._WebProcess @CharID = @CharID,@EventID = @EventID,@DESC = @Desc,@strPos = @strPos</code> right after the <code>as</code></p> <p>Now modify the <code>_AddLogSiegeFortress</code> procedure and add the following at the end:</p> <pre><code>DECLARE @FWStatus VARCHAR(10) = (CASE WHEN @EventID = 1 THEN 'Running' WHEN @EventID = 2 THEN 'Stopped' ELSE 'Unknown' END)\nIF (@EventID IN(1,2))\nBEGIN\nIF NOT EXISTS(SELECT * FROM SRO_WEB_LARAVEL.dbo._FortressStatus WHERE Status LIKE 'Running' OR Status LIKE 'Stopped')\nBEGIN\nTRUNCATE TABLE SRO_WEB_LARAVEL.dbo._FortressStatus\nINSERT INTO SRO_WEB_LARAVEL.dbo._FortressStatus (Status,Date) VALUES (@FWStatus,GETDATE())\nEND\nELSE\nUPDATE SRO_WEB_LARAVEL.dbo._FortressStatus SET Status = @FWStatus, Date = GETDATE()\nEND\n</code></pre>"},{"location":"sro-database/#adding-itempoints","title":"Adding ItemPoints","text":"<p>Open your Silkroad Database query and run this commands.</p> <pre><code>ALTER TABLE dbo._Char ADD ItemPoints int NOT NULL DEFAULT 0;\nALTER TABLE dbo._Guild ADD ItemPoints int NOT NULL DEFAULT 0;\n</code></pre> <p>That stuff allows the Database to fill the Itempoints to the ranking.</p>"},{"location":"styling/","title":"Styling","text":""},{"location":"styling/#npm","title":"npm","text":"<p>Install npm for all the dependencies you need, for that you need to be in the root folder of that project.</p> <pre><code>npm install\n</code></pre> <p>In that <code>webpack.mix.js</code> link you can see that original source and the compressed folder path.</p> <p>If you want to debug and run that stuff in development mode run this</p> <pre><code>npm run dev\n</code></pre> <p>else you can run</p> <pre><code>npm run production\n</code></pre> <p>There is also a third method when you are currently working on a design and want to refresh it everytime, then you can run:</p> <pre><code>npm run watch\n</code></pre> <p>so there is a watcher running and everytime you change a javascript or scss file it will be automatically generated.</p>"},{"location":"styling/#logo","title":"Logo","text":"<p>at <code>public/image/logo/logo.png</code> you can change the project logo. It used in the E-Mail Templates.</p> <p>If you want some help, check the Laravel Compiling Assets (Mix) Hopefully you are good to go with that.</p>"},{"location":"windows-guide/","title":"Windows Guide","text":""},{"location":"windows-guide/#silkroad-laravel-manual-install","title":"Silkroad-Laravel Manual Install","text":""},{"location":"windows-guide/#requirements","title":"Requirements","text":"<ul> <li>Laragon Full (Git, MySQL, Apache, Ngnix, PHP, Composer, NodeJS, SSL emulator, virtual hosts, etc)</li> <li>PHP v7.4+ The minimum required for project</li> <li><code>Thead Safe</code> (TS) if you plan to use Apache</li> <li><code>Non Thread Safe</code> (NTS) if you plan to use Ngnix</li> <li>SQL Drivers for PHP (5.8)</li> <li>SQL Server Database from Silkroad already installed</li> </ul>"},{"location":"windows-guide/#shortcut-links","title":"Shortcut Links","text":"<ul> <li>laragon.org</li> <li>php.net</li> <li>php sql server drivers</li> </ul>"},{"location":"windows-guide/#installation","title":"Installation","text":""},{"location":"windows-guide/#enviroment-setup","title":"Enviroment Setup","text":"<ol> <li> <p>Install Laragon Full and make sure to add the option about \"Add console to Windows context\"</p> </li> <li> <p>Extract the PHP compressed file to the Laragon php folder, will be probably this:</p> </li> </ol> <pre><code>C:\\Laragon\\bin\\php\n</code></pre> <ol> <li>Install the SQL Drivers for PHP on <code>ext</code> folder inside the last php folder extracted like:</li> </ol> <pre><code>C:\\Laragon\\bin\\php\\php7.4xxxxxxxxxxxx\\ext\n</code></pre> <ol> <li> <p>Execute Laragon, go to MENU and change the PHP version to use v7.4+</p> </li> <li> <p>From same MENU, activate the SQL Drivers for PHP extensions referencing your server system choosen and OS system (TS or NTS, x64 or x86):</p> </li> <li><code>php_pdo_sqlsrv_74_ts_x64.dll</code></li> <li> <p><code>php_sqlsrv_74_ts_x64.dll</code></p> </li> <li> <p>Check Laragon Preferences and activate virtual hosts</p> </li> <li> <p>press DATABASE from Laragon and create an empty web database (MySQL <code>utf8mb4_unicode_ci</code>) named as <code>DB_SILKROAD</code> to match our .env.example file</p> </li> <li> <p>Press TERMINAL button from Laragon and make sure the php version is v7.4+</p> </li> </ol> <pre><code>php -version\n</code></pre> <p>If is not correct, then try to add the PATH to your System Enviroment Variables from the php v7.4+ folder.</p> <ol> <li>From same TERMINAL, Create a folder <code>silkroad-laravel</code> for your project</li> </ol> <pre><code>mkdir silkroad-laravel\n</code></pre> <ol> <li>Change directory from console to start all the project commands and stuffs from there</li> </ol> <pre><code>cd silkroad-laravel\n</code></pre>"},{"location":"windows-guide/#project-setup","title":"Project Setup","text":"<ol> <li>Clonate/download the project to the current directory console</li> </ol> <pre><code>git clone https://github.com/Devsome/silkroad-laravel.git\n</code></pre> <ol> <li> <p>Make a copy of <code>.env.example</code> file and name it as <code>.env</code>, fill it with both database credentials, also make sure APP_URL points to your virtual host (https://silkroad-laravel.test at this case)</p> </li> <li> <p>Execute the next query on <code>SRO_VT_SHARD</code></p> </li> </ol> <pre><code>ALTER TABLE dbo._Char ADD ItemPoints int NOT NULL DEFAULT 0;\nALTER TABLE dbo._Guild ADD ItemPoints int NOT NULL DEFAULT 0;\n</code></pre> <ol> <li> <p>You need to create a new Silkroad Database called <code>SRO_WEB_LARAVEL</code></p> </li> <li> <p>Modify the procedure on <code>SRO_VT_LOG</code>.<code>_AddLogChar</code> adding the following like so:</p> </li> </ol> <pre><code>CREATE   procedure [dbo].[_AddLogChar]\n    @CharID     int,\n    @EventID        tinyint,\n    @Data1      int,\n    @Data2      int,\n    @strPos     varchar(64),\n    @Desc       varchar(128)\nas\nEXEC SRO_WEB_LARAVEL.dbo._WebProcess @CharID = @CharID,@EventID = @EventID,@DESC = @Desc,@strPos = @strPos\n</code></pre> <p>Important is to add this <code>EXEC SRO_WEB_LARAVEL.dbo._WebProcess @CharID = @CharID,@EventID = @EventID,@DESC = @Desc,@strPos = @strPos</code> right after the <code>as</code>.</p> <p>Now modify the <code>_AddLogSiegeFortress</code> procedure and add the following at the end:</p> <pre><code>DECLARE @FWStatus VARCHAR(10) = (CASE WHEN @EventID = 1 THEN 'Running' WHEN @EventID = 2 THEN 'Stopped' ELSE 'Unknown' END)\nIF (@EventID IN(1,2))\nBEGIN\nIF NOT EXISTS(SELECT * FROM SRO_WEB_LARAVEL.dbo._FortressStatus WHERE Status LIKE 'Running' OR Status LIKE 'Stopped')\nBEGIN\nTRUNCATE TABLE SRO_WEB_LARAVEL.dbo._FortressStatus\nINSERT INTO SRO_WEB_LARAVEL.dbo._FortressStatus (Status,Date) VALUES (@FWStatus,GETDATE())\nEND\nELSE\nUPDATE SRO_WEB_LARAVEL.dbo._FortressStatus SET Status = @FWStatus, Date = GETDATE()\nEND\n</code></pre> <ol> <li>Install php dependencies with composer</li> </ol> <pre><code>composer install\n</code></pre> <ol> <li>Laravel commands for generating the storage path, unique key and table migrations to databases.</li> </ol> <pre><code>php artisan storage:link &amp;&amp; php artisan key:generate &amp;&amp; php artisan migrate --seed\n</code></pre> <ol> <li>If you want to add your existing Silkroad accounts to the web database, execute:</li> </ol> <pre><code>php artisan import:silkroad-accounts\n</code></pre> <ol> <li>Add manually and backend role, insert on <code>model_has_roles</code> table from MySQL database:</li> </ol> <pre><code>role_id : 3\nmodel_type : App\\User\nmodel_id : Your account ID on `users` table\n</code></pre>"},{"location":"windows-guide/#notes","title":"Notes","text":"<ul> <li>Clearing the cache is a good idea for development stuffs.</li> </ul> <pre><code>php artisan cache:clear &amp;&amp; php artisan config:cache\n</code></pre> <p>Thanks to @JellyBitz</p>"},{"location":"customtheme/start/","title":"Start","text":"<p>If you want to overwrite existing Views, you can create a own template.</p> <p>The good thing about having your own template is that you can still get the latest updates with <code>git pull</code> without having your changes overwritten.</p> <p>I have created a test template to illustrate this a little.</p> <p>This is the resources folder with 2 themes.</p> Resources folder <p>The <code>test-theme</code> is now overwriting the</p> <ul> <li>app.blade.php</li> <li>sidebar.blade.php</li> <li>downloads.blade.php</li> </ul> <p>So every change you do in the test-theme files, there will be overwritten.</p> <p>To change some path or files example file <code>app.blade.php</code></p> <pre><code>&lt;link rel=\"icon\" href=\"{{ asset('themes/test-theme/favicon/sdl.png') }}\"&gt;\n&lt;link href=\"{{ asset('themes/test-theme/css/main.css') }}\" rel=\"stylesheet\"&gt;\n</code></pre> <p>This is how the public folder will look like:</p> Resources folder <p>You can see the <code>themes/test-theme/css/main.css</code></p> <p>Download the test-theme.zip here.</p>"},{"location":"customtheme/start/#hint","title":"Hint","text":"<p>After you changed your theme in the <code>.env</code> you need to run these commands.</p> <p><code>php artisan config:clear &amp;&amp; php artisan view:clear &amp;&amp; php artisan cache:clear</code></p>"},{"location":"features/overview/","title":"General","text":"<p>I have tried to list all possible properties as it is possible. If something is missing or simply not available, just ask me if I could add it.</p> <p>Some features that are not available, but you want to have them specially programmed, you can pay me to write it.</p> <p>Have a look at the frontend properties or backend properties.</p>"},{"location":"features/backend/","title":"Overview","text":""},{"location":"features/backend/#backend","title":"Backend","text":"<ul> <li>Dashboard with Basic Informations</li> <li> <ul> <li>Simple ToDos at the startpage</li> </ul> </li> <li> <ul> <li>PieChart about the sox drops</li> </ul> </li> <li>News Controller</li> <li>Download Controller</li> <li>Image Controller (News, Downloads, Backlinks)</li> <li>Ticket System</li> <li> <ul> <li>Settings for custom Categories, Priorities</li> </ul> </li> <li> <ul> <li>Live Chatting with instant Messages</li> </ul> </li> <li>Voucher Controller with expired at method</li> <li>Donations Controller</li> <li> <ul> <li>Settings about the Donations</li> </ul> </li> <li> <ul> <li>Logging</li> </ul> </li> <li>Backlinks Controller</li> <li>Supporters Online Controller</li> <li>Auctions House</li> <li> <ul> <li>Logging</li> </ul> </li> <li> <ul> <li>Settings</li> </ul> </li> <li>Site Settings</li> <li> <ul> <li>General for Discord, Social, Registration, Contact</li> </ul> </li> <li> <ul> <li>Fortress</li> </ul> </li> <li> <ul> <li>Silkroad Rates</li> </ul> </li> <li>Silkroad Launcher News</li> <li>Silkroad Controller</li> <li> <ul> <li>Accounts</li> </ul> </li> <li> <ul> <li>Characters</li> </ul> </li> <li> <ul> <li>Guilds</li> </ul> </li> <li>World Map for searching players in game</li> <li>Hide ranking to hide Characters at the ranking like GM Chars</li> <li>Logging</li> <li> <ul> <li>SMC</li> </ul> </li> <li> <ul> <li>Users Created - Graph for daily information</li> </ul> </li> <li> <ul> <li>Blocked Users</li> </ul> </li> </ul> Backend Dashboard"},{"location":"features/frontend/","title":"Overview","text":""},{"location":"features/frontend/#frontend","title":"Frontend","text":"<ul> <li>Account</li> <li> <ul> <li>Register with two (web &amp; game) passwords</li> </ul> </li> <li> <ul> <li>Forgot Password</li> </ul> </li> <li> <ul> <li>Settings for your Account</li> </ul> </li> <li> <ul> <li>Donations System</li> </ul> </li> <li> <ul> <li>Ticket System</li> </ul> </li> <li> <ul> <li>Referral System</li> </ul> </li> <li> <ul> <li>Voucher System</li> </ul> </li> <li> <ul> <li>Web Inventory</li> </ul> </li> <li>Character page with Item information</li> <li>Web Inventory</li> <li> <ul> <li>Gold Transfer to Web</li> </ul> </li> <li> <ul> <li>Item Transfer to Web</li> </ul> </li> <li>Auctions House</li> <li> <ul> <li>Create own Auction</li> </ul> </li> <li> <ul> <li>Bid on other Items</li> </ul> </li> <li> <ul> <li>Instant buy some other Items</li> </ul> </li> <li> <ul> <li>Notifications about your Item / Auction</li> </ul> </li> <li>News System</li> <li>Download System</li> <li>Ranking System</li> <li> <ul> <li>Char</li> </ul> </li> <li> <ul> <li>Guild</li> </ul> </li> <li> <ul> <li>Job</li> </ul> </li> <li>Website is full mobile responsive</li> <li>World map for online players</li> </ul>"},{"location":"features/frontend/account/","title":"Account","text":"Accountpanel"},{"location":"features/frontend/account/#charlist","title":"Charlist","text":"<p>There you can find all your created Characters.</p>"},{"location":"features/frontend/account/#settings","title":"Settings","text":"<p>In the settings you can change your passwords, e-mail and other changes. If you miss something, let us know.</p>"},{"location":"features/frontend/account/#donations","title":"Donations","text":"<p>Under this point you can do something good and support us! As a thank you you will get Silk in the game. Currently are Paypal supported. There is a PayOp.com package created by me, but this needed to be tested.</p>"},{"location":"features/frontend/account/#referral","title":"Referral","text":"<p>To see who you have already invited and how much you have earned, click here. Under this point is also the BBCode for the signature you can use in any kind of forum.</p>"},{"location":"features/frontend/account/#tickets","title":"Tickets","text":"<p>You have a problem or a request? Here you can create a ticket and we will take care of it.</p>"},{"location":"features/frontend/account/#voucher","title":"Voucher","text":"<p>Some of you call it E-Pin System, but this is the voucher system. You have a credit note and want to redeem it for Silk? Then you can redeem this one</p>"},{"location":"features/frontend/account/#web-inventory","title":"Web Inventory","text":"<p>Under the Web Inventory you can transfer your items from the ingame inventory to the \"web inventory\". You need this to create an auction.</p>"}]}